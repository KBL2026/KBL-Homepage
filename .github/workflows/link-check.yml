name: Daily Link Check

on:
  workflow_dispatch:
  schedule:
    # 매일 00:10 UTC (한국시간 09:10)
    - cron: "10 0 * * *"

jobs:
  link-check:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Check links in urls.txt
        uses: lycheeverse/lychee-action@v2
        with:
          args: >
            --no-progress
            --verbose
            --timeout 20
            --retry-wait-time 5
            --max-retries 2
            --accept 200,204,301,302,303,307,308
            urls.txt
